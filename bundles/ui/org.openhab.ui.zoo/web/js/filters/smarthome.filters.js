// Generated by CoffeeScript 1.9.2
'use strict';
angular.module('SmartHome.filters', []).filter('activeItems', function() {
  return function(items, enabled) {
    if (enabled === false) {
      return items;
    }
    if (!angular.isArray(items)) {
      return null;
    }
    return items.filter(function(item) {
      return item.state !== 'Uninitialized' && item.state !== '0';
    });
  };
}).filter('masterSwitch', function() {
  var TAG_MASTER, filterFn;
  TAG_MASTER = 'master-switch';
  filterFn = function(item) {
    return item.tags.indexOf(TAG_MASTER) >= 0;
  };
  return function(items) {
    var groupItems, ref;
    if (!items) {
      return;
    }
    groupItems = items.members != null ? items.members : items;
    return (ref = groupItems.filter(filterFn)) != null ? ref[0] : void 0;
  };
}).filter('consumption', function() {
  var UNINITIALIZED, UNITS;
  UNITS = ['kW'];
  UNINITIALIZED = 'Uninitialized';
  return function(value, precision, uninitVal) {
    var valueNum;
    if (uninitVal == null) {
      uninitVal = '-';
    }
    if (!value) {
      return;
    }
    if (value === UNINITIALIZED) {
      return uninitVal;
    }
    valueNum = parseInt(value, 10);
    if (valueNum >= 0) {
      return valueNum + " " + UNITS[0];
    }
  };
});
