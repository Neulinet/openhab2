// Generated by CoffeeScript 1.9.2
'use strict';
angular.module('ZooLib.controllers.access', []).controller('AccessController', function($scope, $state, $log) {
  this.doors = [
    {
      name: 'Front door',
      state: 'open'
    }, {
      name: 'Living room door',
      state: 'open'
    }, {
      name: 'Front door',
      state: 'open'
    }, {
      name: 'Cellar door',
      state: 'open'
    }
  ];
  this.allOpen = true;
  $scope.$watch('doors', function(doors) {
    var closedDoors;
    if (doors == null) {
      return;
    }
    closedDoors = doors.filter(function(d) {
      return d.state === 'closed';
    });
    $scope.allOpen = (closedDoors != null ? closedDoors.length : void 0) > 1;
  }, true);
  $scope.$watch('allOpen', function(value) {
    var door, i, len;
    if (value == null) {
      return;
    }
    for (i = 0, len = doors.length; i < len; i++) {
      door = doors[i];
      door.state = value ? 'open' : 'closed';
    }
  });
});
